এই পর্যায়ে আমরা Docker Swarm বিষয়টার সাথে পরিচিত হবো...
---
 এটা মোটামুটি বড় একটি বিষয় যা বোঝাতে সম্পূর্ণ আলাদা কোর্স ম্যাটেরিয়াল প্রয়োজন, তাই আমরা শুধু ”Docker swarm কি?", তার একটা ছোট্ট আইডিয়া নিবো এখানে

```Docker swarm``` এর দ্বারা আমরা অনেকগুলো ```Docker machine``` এক করে একটি ```Cluster``` বানাতে পারি। ```Docker swarm``` আমাদের সার্ভিস ডিস্ট্রিবিউশন অর্থাৎ এপ্লিকেশনের ইন্সট্যান্সগুলো ভিন্ন ভিন্ন হোস্টে চালানোর দায়িত্ব নেয় যাতে করে এপ্লিকেশনের এভেইলেবিলিটি বৃদ্ধি পায় এবং সিস্টেমে লোড ব্যালেন্স হয় ঠিক মতো। 

![swarm](/Docker-advance-introduction/swarm.png)

```Docker swarm``` পেতে হলে আগে আমাদের প্রয়োজন এক বা অধিক হোস্ট প্রয়োজন যাতে Docker ইন্সটল করা আছে। তারপর যেকোনো একটি হোস্টকে ```Manager``` বা ```Master``` বা ```Swarm manager``` হিসেবে ডেডিকেট করতে হবে এবং বাকিদেরকে ```Slaves``` বা ```Worker``` হিসেবে ডেডিকেট করতে হবে। এটা করার পর ```Swarm manager``` থেকে ```docker swarm init``` কমান্ডটি করতে রান হবে এবং সে Swarm manager হিসেবে প্রতিষ্ঠিত হয়ে যাবে। সাথে একটি আউটপুট ও দিবে যেখানে ```Worker``` এ রান করার কমান্ডটা দেয়া থাকবে। এটা কপি করে কোনো হোস্টে রান করলেই সেটা ওই Manager এর সাথে ```Worker``` হিসেবে যোগদান করবে। এই ```Worker``` দের কে ```Nodes``` ও বলা হয়ে থাকে।

এতদূর করার পরেই আমরা সার্ভিস তৈরি করে এই ক্লাস্টারে সেটা ডেপ্লয় করতে পারব। 

এবারে আমরা আগে যেভাবে Container তৈরি করা শিখেছি সেভাবে যদি ```docker run``` কমান্ড ব্যবহার করে করতে যাই তাহলে যেটা হবে যে, আমাদের প্রত্যেক নোডেই ঢুকে ঢুকে এগুলো রান করতে হবে যেটা অনেক বড় সমস্যা যদি আমাদের অনেক নোড হয়ে থাকে। আবার কোনো কারণে আমাদের এপ্লিকেশনের একটা ইন্সট্যান্স বিফল হলে সেটা আমাদেরকেই ম্যানেজ করতে হবে। সাথে লোড ব্যালেন্স আর অন্যান্য মনিটরিং তো আছেই। এত সব ঝামেলা থেকে আমাদের রেহাই দিতে আসে ***Docker swarm orchestration.*** 

***Docker swarm orchestration*** এর মূল চাবিকাঠি হলো ```docker service```. এই সার্ভিস হলো একটি এপ্লিকেশনের এক বা অধিক ইন্সট্যান্স যা একটা ক্লাস্টারের সব নোডে চলে। 

উদাহরণ হিসেবে আমরা একটি ওয়েব এপ্লিকেশনের অনেকগুলো ইন্সট্যান্স যদি একসাথে কয়েকটি নোডে চালাতে চাই তাহলে আমরা ```docker service create``` কমান্ডটি ```Manager``` নোডে চালাবো যেখানে আমরা এপ্লিকেশনটির নাম উল্লেখ করার পাশাপাশি ```--replicas``` অপশনটি ব্যবহার করে, কয়টা ইন্সট্যান্স আমরা চাচ্ছি ক্লাস্টারে চালাতে সেটাও উল্লেখ করে দিব।

```docker service create -–replicas=3 my-web-server```

এর ফলে আমাদের এপ্লিকেশনের ইন্সট্যান্স ৩ টি ভিন্ন ভিন্ন ৩ টি ```Worker``` নোডে চলতে থাকবে। মনে রাখতে হবে যে সকল ```docker service``` কমান্ড আমাদের ```Manager``` নোড থেকেই চালাতে হবে। অন্যদিকে ```docker run``` কমান্ডে আমরা যেসব অপশন গুলো ব্যবহার করি সেগুলো চাইলে ```service``` এও আমরা ব্যবহার করতে পারি।

```docker service create -–replicas=3 –p 8080:80 my-web-server```
```docker service create -–replicas=3 –-network frontend my-web-server```

আরো উপরের লেভেলে গেলে আমরা জানতে পারব, অনেকগুলো ম্যানেজার সামলানো ও নেটওয়ার্ক রিলে করার মতো কাজগুলো।